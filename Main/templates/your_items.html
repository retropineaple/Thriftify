{% extends "master.html" %}


{% block title %}
    <title>Your Items</title>
{% endblock %}


{% block content %}
    <script>
        function toggleForm(itemId) {
            var form = document.getElementById('update-form-' + itemId);
            if (form.style.display === 'none') {
                form.style.display = 'block';
            } else {
                form.style.display = 'none';
            }
        }
    </script>
    <h1>Your Items</h1>
    <ul>
    {% for item in seller_items %}
        <li>
            <a href="{% url 'product_detail' item.id %}">{{ item.name }}</a>
            <p>Price: {{ item.price }}</p>
            <p>Description: {{ item.description }}</p>
            <!-- Add a button to toggle the form visibility -->
            <button onclick="toggleForm({{ item.id }})">Update</button>
            <!-- Include the form for updating the item's details (initially hidden) -->
            <form id="update-form-{{ item.id }}" method="post" action="{% url 'update_item' item.id %}" style="display: none;">
                {% csrf_token %}
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" value="{{ item.name }}"><br>
                <label for="price">Price:</label>
                <input type="text" id="price" name="price" value="{{ item.price }}"><br>
                <label for="description">Description:</label>
                <textarea id="description" name="description">{{ item.description }}</textarea><br>
                <button type="submit">Update</button>
            </form>
        </li>
    {% empty %}
        <li>No items found.</li>
    {% endfor %}
    </ul>
{% endblock %}